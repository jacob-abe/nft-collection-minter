// SPDX-License-Identifier: UNLICENSED
// People json: https://jsonkeeper.com/b/LVR7
// Quotes json: https://jsonkeeper.com/b/MUP3

pragma solidity ^0.8.4;

import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/utils/Counters.sol";
import "hardhat/console.sol";

import {Base64} from "./libraries/Base64.sol";

contract NFTContract is ERC721URIStorage {
    using Counters for Counters.Counter;
    Counters.Counter private _tokenIds;

    string baseSvg =
        "\x3C\x3F\x78\x6D\x6C\x20\x76\x65\x72\x73\x69\x6F\x6E\x3D\x22\x31\x2E\x30\x22\x20\x65\x6E\x63\x6F\x64\x69\x6E\x67\x3D\x22\x75\x74\x66\x2D\x38\x22\x3F\x3E\x3C\x73\x76\x67\x20\x78\x6D\x6C\x6E\x73\x3D\x22\x68\x74\x74\x70\x3A\x2F\x2F\x77\x77\x77\x2E\x77\x33\x2E\x6F\x72\x67\x2F\x32\x30\x30\x30\x2F\x73\x76\x67\x22\x20\x78\x6D\x6C\x6E\x73\x3A\x78\x6C\x69\x6E\x6B\x3D\x22\x68\x74\x74\x70\x3A\x2F\x2F\x77\x77\x77\x2E\x77\x33\x2E\x6F\x72\x67\x2F\x31\x39\x39\x39\x2F\x78\x6C\x69\x6E\x6B\x22\x20\x77\x69\x64\x74\x68\x3D\x22\x37\x32\x30\x22\x20\x68\x65\x69\x67\x68\x74\x3D\x22\x33\x35\x30\x22\x20\x70\x72\x65\x73\x65\x72\x76\x65\x41\x73\x70\x65\x63\x74\x52\x61\x74\x69\x6F\x3D\x22\x78\x4D\x69\x64\x59\x4D\x69\x64\x22\x20\x76\x69\x65\x77\x42\x6F\x78\x3D\x22\x30\x20\x30\x20\x37\x32\x30\x20\x33\x35\x32\x22\x20\x73\x74\x79\x6C\x65\x3D\x22\x7A\x2D\x69\x6E\x64\x65\x78\x3A\x31\x3B\x64\x69\x73\x70\x6C\x61\x79\x3A\x62\x6C\x6F\x63\x6B\x3B\x62\x61\x63\x6B\x67\x72\x6F\x75\x6E\x64\x2D\x63\x6F\x6C\x6F\x72\x3A\x72\x67\x62\x28\x31\x31\x38\x2C\x20\x33\x38\x2C\x20\x31\x31\x35\x29\x3B\x61\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x2D\x70\x6C\x61\x79\x2D\x73\x74\x61\x74\x65\x3A\x72\x75\x6E\x6E\x69\x6E\x67\x22\x20\x3E\x3C\x67\x20\x74\x72\x61\x6E\x73\x66\x6F\x72\x6D\x3D\x22\x74\x72\x61\x6E\x73\x6C\x61\x74\x65\x28\x33\x36\x30\x2C\x31\x37\x36\x29\x20\x73\x63\x61\x6C\x65\x28\x31\x2C\x31\x29\x20\x74\x72\x61\x6E\x73\x6C\x61\x74\x65\x28\x2D\x33\x36\x30\x2C\x2D\x31\x37\x36\x29\x22\x20\x73\x74\x79\x6C\x65\x3D\x22\x61\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x2D\x70\x6C\x61\x79\x2D\x73\x74\x61\x74\x65\x3A\x72\x75\x6E\x6E\x69\x6E\x67\x22\x20\x3E\x3C\x6C\x69\x6E\x65\x61\x72\x47\x72\x61\x64\x69\x65\x6E\x74\x20\x69\x64\x3D\x22\x6C\x67\x2D\x30\x2E\x38\x37\x34\x37\x34\x33\x30\x30\x36\x34\x39\x39\x31\x38\x32\x35\x22\x20\x78\x31\x3D\x22\x30\x22\x20\x78\x32\x3D\x22\x31\x22\x20\x79\x31\x3D\x22\x30\x22\x20\x79\x32\x3D\x22\x30\x22\x20\x73\x74\x79\x6C\x65\x3D\x22\x61\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x2D\x70\x6C\x61\x79\x2D\x73\x74\x61\x74\x65\x3A\x72\x75\x6E\x6E\x69\x6E\x67\x22\x20\x3E\x3C\x73\x74\x6F\x70\x20\x73\x74\x6F\x70\x2D\x63\x6F\x6C\x6F\x72\x3D\x22\x23\x66\x66\x30\x30\x66\x66\x22\x20\x6F\x66\x66\x73\x65\x74\x3D\x22\x30\x22\x20\x73\x74\x79\x6C\x65\x3D\x22\x61\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x2D\x70\x6C\x61\x79\x2D\x73\x74\x61\x74\x65\x3A\x72\x75\x6E\x6E\x69\x6E\x67\x22\x20\x3E\x3C\x2F\x73\x74\x6F\x70\x3E\x0A\x3C\x73\x74\x6F\x70\x20\x73\x74\x6F\x70\x2D\x63\x6F\x6C\x6F\x72\x3D\x22\x23\x30\x30\x66\x66\x66\x66\x22\x20\x6F\x66\x66\x73\x65\x74\x3D\x22\x31\x22\x20\x73\x74\x79\x6C\x65\x3D\x22\x61\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x2D\x70\x6C\x61\x79\x2D\x73\x74\x61\x74\x65\x3A\x72\x75\x6E\x6E\x69\x6E\x67\x22\x20\x3E\x3C\x2F\x73\x74\x6F\x70\x3E\x3C\x2F\x6C\x69\x6E\x65\x61\x72\x47\x72\x61\x64\x69\x65\x6E\x74\x3E\x0A\x3C\x70\x61\x74\x68\x20\x64\x3D\x22\x4D\x30\x20\x30\x4C\x30\x20\x32\x38\x39\x2E\x35\x35\x36\x37\x36\x32\x36\x39\x35\x33\x31\x32\x35\x51\x37\x32\x20\x33\x30\x30\x2E\x37\x36\x35\x33\x31\x39\x38\x32\x34\x32\x31\x38\x37\x35\x20\x31\x34\x34\x20\x32\x37\x34\x2E\x34\x34\x31\x35\x35\x38\x38\x33\x37\x38\x39\x30\x36\x54\x32\x38\x38\x20\x32\x36\x30\x2E\x36\x34\x37\x33\x36\x39\x33\x38\x34\x37\x36\x35\x36\x54\x34\x33\x32\x20\x31\x39\x31\x2E\x35\x35\x36\x37\x30\x31\x36\x36\x30\x31\x35\x36\x32\x35\x54\x35\x37\x36\x20\x31\x39\x32\x2E\x31\x34\x35\x30\x33\x34\x37\x39\x30\x30\x33\x39\x30\x36\x54\x37\x32\x30\x20\x31\x35\x33\x2E\x36\x36\x31\x33\x31\x35\x39\x31\x37\x39\x36\x38\x37\x35\x4C\x37\x32\x30\x20\x30\x7A\x22\x20\x66\x69\x6C\x6C\x3D\x22\x75\x72\x6C\x28\x23\x6C\x67\x2D\x30\x2E\x38\x37\x34\x37\x34\x33\x30\x30\x36\x34\x39\x39\x31\x38\x32\x35\x29\x22\x20\x6F\x70\x61\x63\x69\x74\x79\x3D\x22\x30\x2E\x34\x22\x20\x73\x74\x79\x6C\x65\x3D\x22\x6F\x70\x61\x63\x69\x74\x79\x3A\x30\x2E\x34\x3B\x61\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x2D\x70\x6C\x61\x79\x2D\x73\x74\x61\x74\x65\x3A\x70\x61\x75\x73\x65\x64\x22\x20\x3E\x3C\x2F\x70\x61\x74\x68\x3E\x0A\x3C\x70\x61\x74\x68\x20\x64\x3D\x22\x4D\x30\x20\x30\x4C\x30\x20\x33\x34\x32\x2E\x31\x38\x36\x34\x30\x31\x33\x36\x37\x31\x38\x37\x35\x51\x37\x32\x20\x33\x32\x36\x2E\x31\x38\x31\x31\x38\x32\x38\x36\x31\x33\x32\x38\x31\x20\x31\x34\x34\x20\x33\x30\x31\x2E\x30\x34\x30\x35\x38\x38\x33\x37\x38\x39\x30\x36\x32\x35\x54\x32\x38\x38\x20\x32\x35\x36\x2E\x32\x30\x36\x31\x37\x36\x37\x35\x37\x38\x31\x32\x35\x54\x34\x33\x32\x20\x31\x39\x38\x2E\x36\x37\x39\x34\x35\x38\x36\x31\x38\x31\x36\x34\x30\x36\x54\x35\x37\x36\x20\x31\x39\x30\x2E\x31\x35\x36\x39\x30\x36\x31\x32\x37\x39\x32\x39\x37\x54\x37\x32\x30\x20\x31\x35\x38\x2E\x36\x37\x31\x35\x35\x34\x35\x36\x35\x34\x32\x39\x37\x4C\x37\x32\x30\x20\x30\x7A\x22\x20\x66\x69\x6C\x6C\x3D\x22\x75\x72\x6C\x28\x23\x6C\x67\x2D\x30\x2E\x38\x37\x34\x37\x34\x33\x30\x30\x36\x34\x39\x39\x31\x38\x32\x35\x29\x22\x20\x6F\x70\x61\x63\x69\x74\x79\x3D\x22\x30\x2E\x34\x22\x20\x73\x74\x79\x6C\x65\x3D\x22\x6F\x70\x61\x63\x69\x74\x79\x3A\x30\x2E\x34\x3B\x61\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x2D\x70\x6C\x61\x79\x2D\x73\x74\x61\x74\x65\x3A\x70\x61\x75\x73\x65\x64\x22\x20\x3E\x3C\x2F\x70\x61\x74\x68\x3E\x0A\x3C\x70\x61\x74\x68\x20\x64\x3D\x22\x4D\x30\x20\x30\x4C\x30\x20\x33\x31\x39\x2E\x31\x30\x39\x33\x34\x34\x34\x38\x32\x34\x32\x31\x39\x51\x37\x32\x20\x33\x31\x30\x2E\x37\x33\x39\x36\x32\x34\x30\x32\x33\x34\x33\x37\x35\x20\x31\x34\x34\x20\x32\x37\x34\x2E\x32\x37\x30\x39\x36\x35\x35\x37\x36\x31\x37\x31\x39\x54\x32\x38\x38\x20\x32\x37\x31\x2E\x34\x33\x30\x39\x30\x38\x32\x30\x33\x31\x32\x35\x54\x34\x33\x32\x20\x32\x32\x30\x2E\x39\x39\x36\x34\x32\x39\x34\x34\x33\x33\x35\x39\x33\x38\x54\x35\x37\x36\x20\x31\x37\x39\x2E\x38\x37\x31\x30\x36\x33\x32\x33\x32\x34\x32\x31\x38\x38\x54\x37\x32\x30\x20\x31\x37\x30\x2E\x35\x31\x39\x30\x38\x38\x37\x34\x35\x31\x31\x37\x32\x4C\x37\x32\x30\x20\x30\x7A\x22\x20\x66\x69\x6C\x6C\x3D\x22\x75\x72\x6C\x28\x23\x6C\x67\x2D\x30\x2E\x38\x37\x34\x37\x34\x33\x30\x30\x36\x34\x39\x39\x31\x38\x32\x35\x29\x22\x20\x6F\x70\x61\x63\x69\x74\x79\x3D\x22\x30\x2E\x34\x22\x20\x73\x74\x79\x6C\x65\x3D\x22\x6F\x70\x61\x63\x69\x74\x79\x3A\x30\x2E\x34\x3B\x61\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x2D\x70\x6C\x61\x79\x2D\x73\x74\x61\x74\x65\x3A\x70\x61\x75\x73\x65\x64\x22\x20\x3E\x3C\x2F\x70\x61\x74\x68\x3E\x0A\x3C\x70\x61\x74\x68\x20\x64\x3D\x22\x4D\x30\x20\x30\x4C\x30\x20\x33\x33\x37\x2E\x30\x37\x37\x38\x35\x30\x33\x34\x31\x37\x39\x36\x39\x51\x37\x32\x20\x33\x33\x33\x2E\x31\x36\x35\x39\x38\x35\x31\x30\x37\x34\x32\x31\x39\x20\x31\x34\x34\x20\x32\x39\x38\x2E\x30\x33\x31\x32\x31\x39\x34\x38\x32\x34\x32\x31\x39\x54\x32\x38\x38\x20\x32\x33\x35\x2E\x33\x30\x31\x36\x33\x35\x37\x34\x32\x31\x38\x37\x35\x54\x34\x33\x32\x20\x32\x32\x33\x2E\x38\x37\x34\x37\x37\x31\x31\x31\x38\x31\x36\x34\x30\x36\x54\x35\x37\x36\x20\x31\x37\x38\x2E\x38\x32\x34\x38\x31\x33\x38\x34\x32\x37\x37\x33\x34\x34\x54\x37\x32\x30\x20\x31\x34\x32\x2E\x35\x39\x39\x33\x31\x39\x34\x35\x38\x30\x30\x37\x38\x4C\x37\x32\x30\x20\x30\x7A\x22\x20\x66\x69\x6C\x6C\x3D\x22\x75\x72\x6C\x28\x23\x6C\x67\x2D\x30\x2E\x38\x37\x34\x37\x34\x33\x30\x30\x36\x34\x39\x39\x31\x38\x32\x35\x29\x22\x20\x6F\x70\x61\x63\x69\x74\x79\x3D\x22\x30\x2E\x34\x22\x20\x73\x74\x79\x6C\x65\x3D\x22\x6F\x70\x61\x63\x69\x74\x79\x3A\x30\x2E\x34\x3B\x61\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x2D\x70\x6C\x61\x79\x2D\x73\x74\x61\x74\x65\x3A\x70\x61\x75\x73\x65\x64\x22\x20\x3E\x3C\x2F\x70\x61\x74\x68\x3E\x0A\x3C\x70\x61\x74\x68\x20\x64\x3D\x22\x4D\x30\x20\x30\x4C\x30\x20\x33\x31\x34\x2E\x30\x31\x38\x37\x39\x38\x38\x32\x38\x31\x32\x35\x51\x37\x32\x20\x33\x32\x30\x2E\x35\x33\x34\x30\x35\x37\x36\x31\x37\x31\x38\x37\x35\x20\x31\x34\x34\x20\x32\x38\x32\x2E\x30\x35\x35\x32\x39\x37\x38\x35\x31\x35\x36\x32\x35\x54\x32\x38\x38\x20\x32\x36\x33\x2E\x31\x39\x32\x37\x37\x39\x35\x34\x31\x30\x31\x35\x36\x54\x34\x33\x32\x20\x32\x31\x32\x2E\x36\x35\x37\x30\x38\x39\x32\x33\x33\x33\x39\x38\x34\x34\x54\x35\x37\x36\x20\x31\x38\x34\x2E\x35\x36\x33\x36\x39\x30\x31\x38\x35\x35\x34\x36\x38\x38\x54\x37\x32\x30\x20\x31\x37\x32\x2E\x30\x30\x37\x31\x35\x36\x33\x37\x32\x30\x37\x30\x33\x4C\x37\x32\x30\x20\x30\x7A\x22\x20\x66\x69\x6C\x6C\x3D\x22\x75\x72\x6C\x28\x23\x6C\x67\x2D\x30\x2E\x38\x37\x34\x37\x34\x33\x30\x30\x36\x34\x39\x39\x31\x38\x32\x35\x29\x22\x20\x6F\x70\x61\x63\x69\x74\x79\x3D\x22\x30\x2E\x34\x22\x20\x73\x74\x79\x6C\x65\x3D\x22\x6F\x70\x61\x63\x69\x74\x79\x3A\x30\x2E\x34\x3B\x61\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x2D\x70\x6C\x61\x79\x2D\x73\x74\x61\x74\x65\x3A\x70\x61\x75\x73\x65\x64\x22\x20\x3E\x3C\x2F\x70\x61\x74\x68\x3E\x3C\x2F\x67\x3E\x0A\x3C\x73\x74\x79\x6C\x65\x3E\x2E\x62\x61\x73\x65\x20\x7B\x20\x66\x69\x6C\x6C\x3A\x20\x77\x68\x69\x74\x65\x3B\x20\x66\x6F\x6E\x74\x2D\x66\x61\x6D\x69\x6C\x79\x3A\x20\x73\x65\x72\x69\x66\x2D\x62\x6F\x6C\x64\x3B\x20\x66\x6F\x6E\x74\x2D\x73\x69\x7A\x65\x3A\x20\x31\x34\x70\x78\x3B\x20\x7D\x3C\x2F\x73\x74\x79\x6C\x65\x3E\x0A\x3C\x74\x65\x78\x74\x20\x78\x3D\x22\x35\x30\x25\x22\x20\x79\x3D\x22\x35\x30\x25\x22\x20\x63\x6C\x61\x73\x73\x3D\x22\x62\x61\x73\x65\x22\x20\x64\x6F\x6D\x69\x6E\x61\x6E\x74\x2D\x62\x61\x73\x65\x6C\x69\x6E\x65\x3D\x22\x6D\x69\x64\x64\x6C\x65\x22\x20\x74\x65\x78\x74\x2D\x61\x6E\x63\x68\x6F\x72\x3D\x22\x6D\x69\x64\x64\x6C\x65\x22\x3E";
    string baseSvg2 =
        "\x3C\x2F\x74\x65\x78\x74\x3E\x0A\x3C\x74\x65\x78\x74\x20\x78\x3D\x22\x38\x30\x25\x22\x20\x79\x3D\x22\x38\x30\x25\x22\x20\x63\x6C\x61\x73\x73\x3D\x22\x62\x61\x73\x65\x22\x20\x64\x6F\x6D\x69\x6E\x61\x6E\x74\x2D\x62\x61\x73\x65\x6C\x69\x6E\x65\x3D\x22\x6D\x69\x64\x64\x6C\x65\x22\x20\x74\x65\x78\x74\x2D\x61\x6E\x63\x68\x6F\x72\x3D\x22\x6D\x69\x64\x64\x6C\x65\x22\x3E\x2D\x20";
    string baseSvg3 =
        "\x3C\x2F\x74\x65\x78\x74\x3E\x0A\x3C\x2F\x73\x76\x67\x3E";
    string[] quotes = [
        "Man with one chopstick go hungry.",
        "Man who cut self while shaving, lose face.",
        "He who has a sharp tongue, cuts own throat.",
        "A bird in hand makes hard to blow nose.",
        "Man who walk with nose in air very easy to hook.",
        "Man who sneezes without tissue takes matters in his own hands.",
        "If something happen but nobody post it on Facebook, did it really happen?",
        "Man who fall in vat of molten glass make spectacle of self.",
        "With great power comes great electricity bill.",
        "Crowded elevator smell different to midget.",
        "Man who put on itchy sweater start every day from scratch.",
        "Man who does very little makes very few mistakes.",
        "When called an idiot sometimes is better to be quiet than open mouth and remove all doubt.",
        "He who thinks only of number one must remember this number is next to nothing.",
        "War not determine who is right, war determine who is left.",
        "Man who put head on railroad track to listen for train likely to end up with splitting headache.",
        "Support bacteria its the only culture some people have.",
        "Everyone has a photographic memory, some people just dont have film!",
        "Man who have clear conscience usually have bad memory, too.",
        "Give man fish, feed him for a day. Teach man to fish, man build industry and destroy ecosystem.",
        "He who is stupid today is still stupid tomorrow.",
        "Steal a man's wallet and he'll be poor for a week. Teach hockey to his kids and he'll be poor forever.",
        "He who stick head in open window get pane in neck.",
        "When man bring wife flowers for no reason, there usually reason.",
        "Passionate kiss like spider's web soon lead to undoing of fly.",
        "Boy fool with girl in wrong period get caught red handed.",
        "Woman who dates gambler, gets cheated on.",
        "Man with athletic finger make broad jump.",
        "Woman laid in tomb may soon become mummy.",
        "Man who open car door for girlfriend reveal one thing: either car is new or girlfriend is new.",
        "Behind every successful man is good woman and very surprised mother-in-law.",
        "No husband ever been shot while he do dishes.",
        "He who fish in other man's well often catches crabs.",
        "State of pregnancy exist when woman takes seriously something poked in fun.",
        "Man who read woman like book, prefer braille!",
        "Woman who absentmindedly answer the door in her nightie is negligent.",
        "Woman who come to bed wearing nothing but running shoes, wants to have marathon session.",
        "Husband who sleep on couch last night, have hard time today.",
        "Marriage is like game of poker. You start with pair and end with full house.",
        "Man who fight with wife all day, get no piece at night.",
        "Mummys who take vacation, will relax and unwind.",
        "Man who drive like hell, bound to get there!",
        "I want to die peacefully in my sleep like my grandfather. Not screaming and yelling like the passengers in his car.",
        "Don't drink and park, accidents cause people.",
        "Man who get hit by car, get that run-down feeling.",
        "Man who run in front of car get tired. Man who run behind car get exhausted.",
        "Man who jumps off cliff, jumps to conclusion!",
        "Man who drop watch in whisky is wasting time.",
        "A butler with no teeth is called an in-dentured servant.",
        "Man who give up all hope of ever having a flat stomach will abdicate.",
        "Man who pushes piano down mineshaft get tone of A flat miner.",
        "Man who shoot off mouth must expect to lose face.",
        "Man with tight trousers is pressing his luck.",
        "If you want pretty nurse, you got to be patient.",
        "Man who abuse his computer get bad bytes!",
        "Blind man who pees on electric fence will see the light.",
        "Man who make mistake in elevator wrong on many levels.",
        "When dentist say 'open wide', does he mean mouth or wallet?",
        "Man who keep both feet firmly planted on ground have trouble putting on pants.",
        "Cross-eyed teacher cannot control pupils.",
        "He who laughs last did not get the joke.",
        "Man who tied to chair bound to agree.",
        "Chinese couple who have white baby, name it Sum Ting Wong.",
        "He who places head in sand, will get kicked in the end!",
        "He who thinks by the inch and talks by the yard deserves to be kicked by the foot.",
        "Man who live in glass house should change in basement.",
        "Woman who puts detergent on top shelf, jump for Joy.",
        "Man who tell one too many light bulb jokes will soon burn out!",
        "Man with no legs bums around.",
        "Give a man some fire and he'll be warm for the rest of the day. Set a man on fire and he'll be warm for the rest of his life."
    ];
    string[] people = [
        "Martin Luther King",
        "Queen Elizabeth I",
        "Woodrow Wilson",
        "Sojourner Truth",
        "Abraham Lincoln",
        "Susan B Anthony",
        "Vladimir Lenin",
        "Mary Wollstonecraft",
        "Franklin D Roosevelt",
        "Frederick Douglass",
        "Maya Angelou",
        "Winston Churchill",
        "Virginia Woolf",
        "John F Kennedy",
        "Dwight Eisenhower",
        "Audre Lorde",
        "James Baldwin",
        "Nelson Mandela",
        "General Aung San",
        "Mother Teresa",
        "Deng Xiaoping",
        "Emmeline Pankhurst",
        "Mahatma Gandhi",
        "Audre Lorde",
        "Nikita Khruschev",
        "Eleanor Roosevelt",
        "Malcolm X",
        "Gloria Steinem",
        "Aung San Suu Kyi",
        "Stephen Hawking",
        "Michelle Obama",
        "Barack Obama",
        "Malala Yousafzai",
        "Osama Bin Laden",
        "Saddam Hussein",
        "Joseph Stalin",
        "General Al-Adeen",
        "Adolf Hitler",
        "Mussolini",
        "Genghis Khan",
        "Some random chad"
    ];

    event NewNFTMinted(address sender, uint256 tokenId);

    constructor() ERC721("QuestionableQuotesNft", "QQNft69") {
        console.log("NFTContract constructed");
    }

    function mintNFT() public {
        uint256 newItemId = _tokenIds.current();
        string memory chosenQuote = generateRandomQuote(newItemId);
        string memory chosenPerson = generateRandomPerson(newItemId);
        string memory finalSvg = generateSvg(chosenQuote, chosenPerson);
        string memory visibleJson = string(
                    abi.encodePacked(
                        '{"name": "',
                        string(abi.encodePacked(chosenPerson,Strings.toString(newItemId))),
                        '", "description": "A questionable quote ", "image": "data:image/svg+xml;base64,',
                        Base64.encode(bytes(finalSvg)),
                        '"}'
                    )
                );
        //console.log(visibleJson);
        string memory json = Base64.encode(
            bytes(
                visibleJson
            )
        );
        _safeMint(msg.sender, newItemId);
        _setTokenURI(
            newItemId,
            string(abi.encodePacked("data:application/json;base64,", json))
        );
        _tokenIds.increment();
        console.log(
            "An NFT w/ ID %s has been minted to %s",
            newItemId,
            msg.sender
        );
        emit NewNFTMinted(msg.sender, newItemId);
        //console.log("New Token Uri:%s",string(abi.encodePacked("data:application/json;base64,", json)));
    }

    function random(string memory input) internal pure returns (uint256) {
        return uint256(keccak256(abi.encodePacked(input)));
    }

    function generateRandomQuote(uint256 tokenId) private returns (string memory) {
        uint256 rand = random(
            string(abi.encodePacked("quotes", Strings.toString(tokenId)))
        );
        rand = rand % quotes.length;
        return quotes[rand];
    }

    function generateRandomPerson(uint256 tokenId) private returns (string memory) {
        uint256 rand = random(
            string(abi.encodePacked("people", Strings.toString(tokenId)))
        );
        rand = rand % people.length;
        return people[rand];
    }

    function generateSvg(string memory selectedQuote, string memory selectedPerson) private returns(string memory){
        string memory finalSvg = string(
            abi.encodePacked(
                baseSvg,
                selectedQuote,
                baseSvg2,
                selectedPerson,
                baseSvg3
            )
        );
        return finalSvg;
    }
}
